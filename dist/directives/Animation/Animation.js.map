{"version":3,"sources":["directives/Animation/Animation.ts"],"names":[],"mappings":"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","file":"directives/Animation/Animation.js","sourcesContent":["import {Directive, Input, Output, EventEmitter, ElementRef, OnInit, OnChanges} from '@angular/core';\n\n@Directive({\n    selector: '[animation]',\n    host: {\n        '(animationstart)': 'animationStarted($event)',\n        '(webkitAnimationStart)': 'animationStarted($event)',\n        '(oanimationstart)': 'animationStarted($event)',\n        '(MSAnimationStart)': 'animationStarted($event)',\n        '(animationend)': 'animationEnded($event)',\n        '(webkitAnimationEnd)': 'animationEnded($event)',\n        '(oanimationend)': 'animationEnded($event)',\n        '(MSAnimationEnd)': 'animationEnded($event)'\n    }\n})\nexport class Animation implements OnInit, OnChanges {\n    @Output() onAnimationStart = new EventEmitter<any>();\n    @Output() onAnimationEnd = new EventEmitter<any>();\n\n\t@Input('animation') animationClasses: string = '';\n\t@Input() play: boolean = false; \n\t@Input() id: string = '';  // use for query filtering\n\t@Input() group: string = ''; // use for query filtering\n\t\n\t_animationQueue: string[] = [];\n\t_callbacks: (() => void)[] = [];\n\telement: Element;\n\t\n    constructor(element: ElementRef) {\n\t\tthis.element = element.nativeElement;\n    }\n\t\n\tngOnChanges(): void {\n\t\tthis.setup();\n\t}\n\t\n\tngOnInit(): void {\n\t\tthis.setup();\n\t}\n\n\taddAnimation(animationClasses: string): Animation {\n\t\tanimationClasses.split(' ')\n\t\t\t.map(c => this._animationQueue.push(c));\n\t\tthis.animationClasses += \" \" + animationClasses;\n\t\treturn this;\n\t}\n\n\tsetup(): Animation {\n\t\tthis._animationQueue = this.animationClasses\n\t\t\t.split(\" \")\n\t\t\t.filter((c) => c.length > 0);\n\t\t\t\n\t\tif(this.play && this._animationQueue.length > 0)\n\t\t\tthis.startAnimation();\n\t\treturn this;\n\t}\n\n\tstartAnimation(callback: () => void = null): Animation {\n\t\tif(callback != null)\n\t\t\tthis._callbacks.push(callback);\n\t\t\n\t\tthis._animationQueue.shift()\n\t\t\t.split('.')\n\t\t\t.filter((c) => c.length > 0)\n\t\t\t.map((c) => this.element.classList.add(c));\n\t\treturn this;\t\n\t}\n\n\tcleanAnimation(): Animation {\n\t\tthis.animationClasses\n\t\t\t.replace('.', ' ')\n\t\t\t.split(' ')\n\t\t\t.filter((c) => c.length > 0)\n\t\t\t.map((c) => {\n\t\t\t\tthis.element.classList.remove(c)\n\t\t\t});\n\t\treturn this;\n\t}\n\n    animationStarted(event: Event): void {\n        this.onAnimationStart.next(null);\n    }\n\n    animationEnded(event: Event): void {\n\t\tthis.cleanAnimation();\n\t\tif(this._animationQueue.length > 0){\n\t\t\tthis.startAnimation();\n\t\t\treturn;\n\t\t}\t\t\t\n\t\t \n\t\twhile(this._callbacks.length > 0)\n\t\t\tthis._callbacks.shift()(); \n\t\t \n\t\tthis.onAnimationEnd.next(null);\n    }\n}"],"sourceRoot":"/source/"}